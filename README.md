# Firmware для клавиатуры управления громкостью с индикацией [shildpanel_test_task]

Тестовое задание для компании ООО «ШильдПанель (https://shildpanel.ru/)».

Этот проект реализует прошивку для клавиатуры управления громкостью, которая использует шину I2C для связи с головным устройством. Устройство работает в режиме I2C-слейва и управляет:
- **6 светодиодами** для индикации уровня громкости;
- **2 кнопками** ("Громкость +" и "Громкость -") с фильтрацией дребезга и определением кратковременного/длительного нажатия.

## Особенности

- **I2C коммуникация**
  - **Запись (0x40):** ведущий передаёт два байта.
    - Биты [5:0] второго байта управляют состоянием 6 светодиодов.
    - Бит [7] второго байта указывает, что следующая операция чтения должна вернуть состояние светодиодов.
  - **Чтение (0x41):**
    - Если в предыдущей записи был установлен флаг для чтения состояния светодиодов, возвращается сохранённое состояние (с битом 7).
    - В противном случае возвращается состояние кнопок, включая флаги кратковременного и длительного нажатия.
  
- **Обработка кнопок**
  - Фильтрация дребезга (50 мс).
  - Определение кратковременного (<500 мс) и длительного (≥500 мс) нажатия.
  
- **Управление светодиодами**
  - 6 светодиодов управляются по отдельным пинам (4–9).